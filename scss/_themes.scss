// Theme System
// Each theme defines its own color palette and design tokens

// ============================================================================
// THEME: Dark OLED (Default)
// Pure blacks for OLED displays, high contrast, battery-friendly
// ============================================================================
.theme-dark-oled {
    --bg: #000000;
    --bg-secondary: #0a0a0a;
    --bg-tertiary: #121212;
    --card: #0a0a0a;
    --card-hover: #141414;
    --border: #1a1a1a;
    --border-light: #222222;

    --text: #ffffff;
    --text-secondary: #b0b0b0;
    --text-tertiary: #808080;
    --text-dimmed: #505050;

    --accent: #00ff88;
    --accent-hover: #00dd77;
    --blue: #00d4ff;
    --yellow: #ffd700;
    --red: #ff4444;
    --orange: #ff8800;

    --shadow: 0 4px 20px rgba(0, 255, 136, 0.15);
    --glow: 0 0 20px rgba(0, 255, 136, 0.3);
}

// ============================================================================
// THEME: Light
// Clean, professional light mode with high contrast
// ============================================================================
.theme-light {
    --bg: #ffffff;
    --bg-secondary: #f8f8f8;
    --bg-tertiary: #f0f0f0;
    --card: #ffffff;
    --card-hover: #f8f8f8;
    --border: #e0e0e0;
    --border-light: #d0d0d0;

    --text: #0a0a0a;
    --text-secondary: #404040;
    --text-tertiary: #606060;
    --text-dimmed: #909090;

    --accent: #00aa66;
    --accent-hover: #009955;
    --blue: #0088cc;
    --yellow: #cc9900;
    --red: #cc3333;
    --orange: #dd6600;

    --shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    --glow: 0 0 20px rgba(0, 170, 102, 0.2);
}

// ============================================================================
// THEME: Brutalist
// Raw, utilitarian, extreme contrast, no-nonsense data display
// ============================================================================
.theme-brutalist {
    --bg: #ffffff;
    --bg-secondary: #000000;
    --bg-tertiary: #f0f0f0;
    --card: #ffffff;
    --card-hover: #f5f5f5;
    --border: #000000;
    --border-light: #000000;

    --text: #000000;
    --text-secondary: #000000;
    --text-tertiary: #333333;
    --text-dimmed: #666666;

    --accent: #ff0000;
    --accent-hover: #cc0000;
    --blue: #0000ff;
    --yellow: #ffff00;
    --red: #ff0000;
    --orange: #ff6600;

    --shadow: none;
    --glow: none;

    // Brutalist-specific tokens
    --border-width: 4px;
    --border-radius: 0;
    --font-weight-heavy: 900;
}

// ============================================================================
// THEME: Retro Terminal
// Vintage computer terminal with CRT effects and phosphor glow
// ============================================================================
.theme-retro-terminal {
    --bg: #0a0a0a;
    --bg-secondary: #050505;
    --bg-tertiary: #0f0f0f;
    --card: rgba(0, 255, 0, 0.03);
    --card-hover: rgba(0, 255, 0, 0.08);
    --border: #00ff00;
    --border-light: rgba(0, 255, 0, 0.3);

    --text: #00ff00;
    --text-secondary: #00cc00;
    --text-tertiary: #009900;
    --text-dimmed: #006600;

    --accent: #00ff00;
    --accent-hover: #00ff66;
    --blue: #00ffff;
    --yellow: #ffff00;
    --red: #ff0000;
    --orange: #ff9900;

    --shadow: 0 0 40px rgba(0, 255, 0, 0.4);
    --glow: 0 0 10px rgba(0, 255, 0, 0.8), 0 0 20px rgba(0, 255, 0, 0.4);

    // Terminal-specific tokens
    --scanline-opacity: 0.08;
    --text-glow: 0 0 5px currentColor;
    --flicker-duration: 0.15s;
}

// ============================================================================
// Theme-specific overrides
// ============================================================================

// Brutalist theme typography and layout
.theme-brutalist {
    font-family: 'Arial Black', 'Impact', sans-serif;

    * {
        border-radius: var(--border-radius) !important;
    }

    h1, h2, h3, h4, h5, h6 {
        font-weight: var(--font-weight-heavy);
        letter-spacing: -0.02em;
    }

    .card,
    .section,
    .device-info-header,
    .device-info-item,
    .codec-item,
    .filter-btn,
    .export-btn {
        border: var(--border-width) solid var(--border);
        box-shadow: var(--shadow);
    }

    .codec-details {
        background: var(--bg-secondary);
    }

    .device-info-item {
        border-left-width: var(--border-width);
    }

    button,
    input {
        font-weight: 700;
        text-transform: uppercase;
    }
}

// Retro terminal effects
.theme-retro-terminal {
    font-family: 'IBM Plex Mono', 'Courier New', monospace;

    // CRT scanlines overlay
    &::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 9999;
        background: repeating-linear-gradient(
            0deg,
            transparent,
            transparent 2px,
            rgba(0, 255, 0, var(--scanline-opacity)) 2px,
            rgba(0, 255, 0, var(--scanline-opacity)) 4px
        );
        animation: scanlines 8s linear infinite;
    }

    // Screen flicker effect
    &::after {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 9998;
        background: rgba(0, 255, 0, 0.02);
        animation: flicker var(--flicker-duration) infinite alternate;
    }

    // Text glow
    h1, h2, h3, h4, h5, h6,
    .codec-name,
    .section-header,
    .device-info-header {
        text-shadow: var(--text-glow);
    }

    // Border glow
    .card,
    .section,
    .codec-item,
    .device-info-header,
    .filter-btn,
    .export-btn {
        box-shadow: var(--glow);
    }

    .codec-details {
        background: rgba(0, 255, 0, 0.05);
        border: 1px solid rgba(0, 255, 0, 0.2);
    }

    .codec-string,
    .api-results {
        background: rgba(0, 255, 0, 0.03);
    }
}

// Retro terminal animations
@keyframes scanlines {
    0% {
        background-position: 0 0;
    }
    100% {
        background-position: 0 100vh;
    }
}

@keyframes flicker {
    0% {
        opacity: 0.97;
    }
    50% {
        opacity: 1;
    }
    100% {
        opacity: 0.96;
    }
}

// ============================================================================
// Theme Switcher UI
// ============================================================================
.theme-switcher {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1000;
    display: flex;
    gap: 8px;
    background: var(--card);
    padding: 8px;
    border-radius: 8px;
    border: 1px solid var(--border);
    box-shadow: var(--shadow);
}

.theme-switcher-btn {
    width: 36px;
    height: 36px;
    border: 2px solid var(--border);
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s;
    position: relative;
    overflow: hidden;

    &:hover {
        transform: scale(1.1);
        border-color: var(--accent);
    }

    &.active {
        border-color: var(--accent);
        box-shadow: 0 0 0 2px var(--accent);
    }
}

// Theme button previews
.theme-btn-dark-oled {
    background: linear-gradient(135deg, #000 0%, #00ff88 100%);
}

.theme-btn-light {
    background: linear-gradient(135deg, #fff 0%, #00aa66 100%);
}

.theme-btn-brutalist {
    background:
        linear-gradient(90deg, #fff 0%, #fff 50%, #000 50%, #000 100%),
        linear-gradient(0deg, #ff0000 0%, #ff0000 100%);
    background-size: 100% 50%, 100% 10%;
    background-position: 0 0, 0 100%;
    background-repeat: no-repeat;
}

.theme-btn-retro {
    background: #0a0a0a;
    position: relative;

    &::before {
        content: '>';
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: #00ff00;
        font-family: monospace;
        font-size: 18px;
        font-weight: bold;
        text-shadow: 0 0 10px #00ff00;
    }
}

// Brutalist theme switcher
.theme-brutalist .theme-switcher {
    border-radius: 0;
    border-width: 4px;
    border-color: #000;
}

.theme-brutalist .theme-switcher-btn {
    border-radius: 0;
    border-width: 3px;

    &:hover {
        transform: none;
        border-color: #ff0000;
    }
}

// Retro terminal theme switcher
.theme-retro-terminal .theme-switcher {
    background: rgba(0, 255, 0, 0.05);
    border-color: var(--border);
    box-shadow: var(--glow);
}

.theme-retro-terminal .theme-switcher-btn {
    background-color: rgba(0, 255, 0, 0.1);

    &:hover {
        box-shadow: 0 0 10px rgba(0, 255, 0, 0.5);
    }
}
